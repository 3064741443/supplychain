<div class="inmodal">
    <div class="modal-header">
        <h4 class="modal-title">请确认产品对账价格</h4>
        <button type="button" class="close" data-dismiss="modal" ng-click="cancel()">
            <span aria-hidden="true">×</span> <span class="sr-only">Close</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <div class="col-lg-12 control-content">
                <div ng-repeat="item in productArr" id="productArr-{{$index}}" class="productArr">
                    <table datatable="ng" dt-options="dtOptions"
                           class="table table-striped table-bordered table-hover">
                        <h3 style="margin-top: 20px;margin-bottom: -10px">产品名称 : {{item.name}}</h3>
                        <colgroup>
                            <col width="7%"/>
                            <col width="10%"/>
                            <col width="10%"/>
                            <col width="10%"/>
                        </colgroup>
                        <thead>
                        <tr>
                            <th></th>
                            <th>物料编号</th>
                            <th>物料名称</th>
                            <th>价格</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="items in item.productDetailList">
                            <td>物料{{$index+1}}</td>
                            <td class="materialCode">{{items.materialCode}}</td>
                            <td class="materialName">{{items.materialName}}</td>
                            <td><input  class="price"  detailsId="{{item.id}}" value="{{item.price}}" type="text" width="20%" ng-pattern="/^[1-9]\d*$/" maxlength="9"
                                       ng-blur="priceCheck($parent.$index)" onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,''),this.value= this.value.match(/\d+(\.\d{0,2})?/) ? this.value.match(/\d+(\.\d{0,2})?/)[0] : ''"></td>
                        </tr>
                        <tr>
                            <td>总价</td>
                            <td>{{ }}</td>
                            <td>{{ }}</td>
                            <td><input class="number" id="number" type="text" width="20%"  ng-pattern="/^[1-9]\d*$/" maxlength="9"
                                   value="{{item.amount.toFixed(2)}}" onkeyup="value=value.replace(/[^\d{1,}\.\d{1,}|\d{1,}]/g,''),this.value= this.value.match(/\d+(\.\d{0,2})?/) ? this.value.match(/\d+(\.\d{0,2})?/)[0] : ''"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer" ng-switch="curTabIndex">
            <button type="submit" class="btn btn-primary" ng-click="ok();">确认</button>
            <button type="button" class="btn btn-white" ng-click="cancel();">取消</button>
        </div>
    </div>
</div>